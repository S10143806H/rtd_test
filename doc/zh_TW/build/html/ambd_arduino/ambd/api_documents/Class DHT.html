

<!DOCTYPE html>
<html class="writer-html5" lang="zh-TW" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Class DHT &mdash; amebaDoc 0.0.1 說明文件</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/translations.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="索引" href="../../../genindex.html" />
    <link rel="search" title="搜尋" href="../../../search.html" />
    <link rel="next" title="Class HttpClient" href="Class%20InterruptLock.html" />
    <link rel="prev" title="Class EpdIF" href="Class%20FlashMemoryClass.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> amebaDoc
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">開源開發平台:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../arduino_index.html">Arduino 開發平台</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ambd_micropython/source/index.html">Micropython 開發平台</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ambd_sdk/source/index.html">Standard SDK</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">amebaDoc</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../arduino_index.html">Arduino 開發平台</a> &raquo;</li>
        
          <li><a href="../index.html">RTL8722DM</a> &raquo;</li>
        
          <li><a href="index.html">API 指南</a> &raquo;</li>
        
      <li>Class DHT</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/ambd_arduino/ambd/api_documents/Class DHT.rst.txt" rel="nofollow"> 查看页面源码</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="class-dht">
<h1>Class DHT<a class="headerlink" href="#class-dht" title="本標題的永久連結">¶</a></h1>
<p><strong>DHT Class</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Defines a class of using DHT temperature &amp; humidity sensors</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">class DHT</div>
</div>
<p><strong>Members</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 37%" />
<col style="width: 63%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Public Constructors</strong></p></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>DHT::DHT</p></td>
<td><p>Constructs a DHT object</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Public Methods</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>DHT::begin</p></td>
<td><p>Initialize the DHT sensor</p></td>
</tr>
<tr class="row-odd"><td><p>DHT::readTemperature</p></td>
<td><p>Read temperature(Fahrenheit or Celcius)
from the DHT sensor</p></td>
</tr>
<tr class="row-even"><td><p>DHT::convertCtoF</p></td>
<td><p>Convert a value from Celcius to
Fahrenheit</p></td>
</tr>
<tr class="row-odd"><td><p>DHT::convertFtoC</p></td>
<td><p>Convert a value from Fahrenheit to
Celcius</p></td>
</tr>
<tr class="row-even"><td><p>DHT::readHumidity</p></td>
<td><p>Read humidity(%) from the DHT sensor</p></td>
</tr>
<tr class="row-odd"><td><p>DHT::computeHeatIndex</p></td>
<td><p>Compute the HeatIndex from the readings
(Using both Rothfusz and Steadman’s
equations)</p></td>
</tr>
<tr class="row-even"><td><p>DHT::read</p></td>
<td><p>Check if the sensor is readable</p></td>
</tr>
</tbody>
</table>
<p><strong>DHT::DHT</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Constructs a DHT object.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">DHT::DHT(uint8_t pin, uint8_t type, uint8_t count)</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">pin: The Arduino digital PIN connected</div>
<div class="line">type: The DHT sensor type(DHT11, DHT22, or DHT21)</div>
<div class="line">count: The count is now ignored as the DHT reading algorithm adjusts
itself based on the speed of the processor</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">The function returns nothing.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">Example:DHTTester</div>
<div class="line">The code demos basic testing for various DHT humidity &amp; temperature
sensors.</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Every time must include the header file “DHT.h” in front of the
project to use the class function.</div>
</div>
<p>// Example testing sketch for various DHT humidity/temperature sensors</p>
<p>// Written by ladyada, public domain</p>
<p><strong>#include 「DHT.h」</strong></p>
<p>// The digital pin we’re connected to.</p>
<p><strong>#define DHTPIN 8</strong></p>
<p>// Uncomment whatever type you’re using!</p>
<p><strong>#define DHTTYPE DHT11 // DHT 11</strong></p>
<p>//#define DHTTYPE DHT22 // DHT 22 (AM2302), AM2321</p>
<p>//#define DHTTYPE DHT21 // DHT 21 (AM2301)</p>
<p>// Connect pin 1 (on the left) of the sensor to +5V</p>
<p>// NOTE: If using a board with 3.3V logic like an Arduino Due connect
pin 1</p>
<p>// to 3.3V instead of 5V!</p>
<p>// Connect pin 2 of the sensor to whatever your DHTPIN is</p>
<p>// Connect pin 4 (on the right) of the sensor to GROUND</p>
<p>// Connect a 10K resistor from pin 2 (data) to pin 1 (power) of the
sensor</p>
<p>// Initialize DHT sensor.</p>
<p>// Note that older versions of this library took an optional third
parameter to</p>
<p>// tweak the timings for faster processors. This parameter is no longer
needed</p>
<p>// as the current DHT reading algorithm adjusts itself to work on faster
procs.</p>
<p>DHT dht(DHTPIN, DHTTYPE);</p>
<p><strong>void</strong> setup() {</p>
<p>Serial.begin(115200);</p>
<p>Serial.println(「DHTxx test!」);</p>
<p>dht.begin();</p>
<p>}</p>
<p><strong>void</strong> loop() {</p>
<p>// Wait a few seconds between measurements.</p>
<p>delay(2000);</p>
<p>// Reading temperature or humidity takes about 250 milliseconds!</p>
<p>// Sensor readings may also be up to 2 seconds 『old』 (its a very slow
sensor)</p>
<p><strong>float</strong> h = dht.readHumidity();</p>
<p>// Read temperature as Celsius (the default)</p>
<p><strong>float</strong> t = dht.readTemperature();</p>
<p>// Read temperature as Fahrenheit (isFahrenheit = true)</p>
<p><strong>float</strong> f = dht.readTemperature(<strong>true</strong>);</p>
<p>// Check if any reads failed and exit early (to try again).</p>
<p><strong>if</strong> (isnan(h) || isnan(t) || isnan(f)) {</p>
<p>Serial.println(「Failed to read from DHT sensor!」);</p>
<p><strong>return</strong>;</p>
<p>}</p>
<p>// Compute heat index in Fahrenheit (the default)</p>
<p><strong>float</strong> hif = dht.computeHeatIndex(f, h);</p>
<p>// Compute heat index in Celsius (isFahreheit = false)</p>
<p><strong>float</strong> hic = dht.computeHeatIndex(t, h, <strong>false</strong>);</p>
<p>Serial.print(「Humidity: 「);</p>
<p>Serial.print(h);</p>
<p>Serial.print(」 %t」);</p>
<p>Serial.print(「Temperature: 「);</p>
<p>Serial.print(t);</p>
<p>Serial.print(」 *C 「);</p>
<p>Serial.print(f);</p>
<p>Serial.print(」 *Ft」);</p>
<p>Serial.print(「Heat index: 「);</p>
<p>Serial.print(hic);</p>
<p>Serial.print(」 *C 「);</p>
<p>Serial.print(hif);</p>
<p>Serial.println(」 *F」);</p>
<p>}</p>
<p><strong>DHT::begin</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Initialize the DHT sensor.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">void DHT::begin(void);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">The function requires no input parameter.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">The function returns nothing.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">Example: DHTTester</div>
<div class="line">The code demos basic testing for various DHT humidity &amp; temperature
sensors. Please refer to code in the “DHT: DHT” section.</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Every time must include the header file “DHT.h” in front of the
project to use the class function.</div>
<div class="line"><br /></div>
</div>
<p><strong>DHT::readTemperature</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Read temperature(Fahrenheit or Celcius) from the DHT sensor.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">float DHT::readTemperature(bool S, bool force);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">S: Temperature scale, True is Fahrenheit and False is Celcius</div>
<div class="line">force: Index of checking sensor readability, default is False</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">The function returns the current temperature as a float value.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">Example: DHTTester</div>
<div class="line">The code demos basic testing for various DHT humidity &amp; temperature
sensors. Please refer to code in the “DHT: DHT” section.</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Every time must include the header file “DHT.h” in front of the
project to use the class function.</div>
<div class="line"><br /></div>
</div>
<p><strong>DHT::convertCtoF</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Convert a value from Celcius to Fahrenheit.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">float DHT::convertCtoF(float c);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">c: The value in Celcius</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">The function returns the temperature in Fahrenheit as a float number.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">Example: DHTTester</div>
<div class="line">The code demos basic testing for various DHT humidity &amp; temperature
sensors. Please refer to code in the “DHT: DHT” section.</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Every time must include the header file “DHT.h” in front of the
project to use the class function.</div>
<div class="line"><br /></div>
</div>
<p><strong>DHT::convertFtoC</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Convert a value from Fahrenheit to Celcius.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">float DHT::convertFtoC(float f);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">f: The value in Fahrenheit</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">The function returns the temperature in Celcius as a float number.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">Example: DHTTester</div>
<div class="line">The code demos basic testing for various DHT humidity &amp; temperature
sensors. Please refer to code in the “DHT: DHT” section.</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Every time must include the header file “DHT.h” in front of the
project to use the class function.</div>
<div class="line"><br /></div>
</div>
<p><strong>DHT::computeHeatIndex</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Compute the HeatIndex from the readings (Using both Rothfusz and
Steadman’s equations). More details refer
to <a class="reference external" href="http://www.wpc.ncep.noaa.gov/html/heatindex_equation.shtml">http://www.wpc.ncep.noaa.gov/html/heatindex_equation.shtml </a>.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">float DHT::computeHeatIndex(float temperature, float percentHumidity,
bool isFahrenheit);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">temperature: The temperature value</div>
<div class="line">percentHumidity: The humidity percent value</div>
<div class="line">isFahrenheit: True, temperature value in Fahrenheit (Default); False,
temperature value in Celcius</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">The function returns the heat index in Fahrenheit or Celsius as a
float value.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">Example: DHTTester</div>
<div class="line">The code demos basic testing for various DHT humidity &amp; temperature
sensors. Please refer to code in the “DHT: DHT” section.</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Every time must include the header file “DHT.h” in front of the
project to use the class function.</div>
<div class="line"><br /></div>
</div>
<p><strong>DHT::readHumidity</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Reading temperature or humidity from the DHT sensor and return as a
float value(%).</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">float DHT::readHumidity(bool force);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">force: Ignored.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">The function returns current humidity in a float number (in %).</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">Example: DHTTester</div>
<div class="line">The code demos basic testing for various DHT humidity &amp; temperature
sensors. Please refer to code in the “DHT: DHT” section.</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Every time must include the header file “DHT.h” in front of the
project to use the class function. Reading temperature or humidity
takes about 250 milliseconds! Sensor readings may also be up to 2
seconds.</div>
<div class="line"><br /></div>
</div>
<p><strong>DHT::read</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Check if the sensor is readable.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">boolean DHT::read(bool force);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">force: Index of whether checking the sensor was read less than two
seconds ago or not. False, checking; True, not checking.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">Return the last correct measurement of the sensor. False, low means
not readable; True, high means readable.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">Example: DHTTester</div>
<div class="line">The code demos basic testing for various DHT humidity &amp; temperature
sensors. Please refer to code in the “DHT: DHT” section.</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Every time must include the header file “DHT.h” in front of the
project to use the class function.</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="Class%20InterruptLock.html" class="btn btn-neutral float-right" title="Class HttpClient" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="Class%20FlashMemoryClass.html" class="btn btn-neutral float-left" title="Class EpdIF" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; 版權所有 2021, Ameba IoT。

    </p>
  </div>
    
    
    
    利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用了 
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    
    由 <a href="https://readthedocs.org">Read the Docs</a>开发. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>