

<!DOCTYPE html>
<html class="writer-html5" lang="zh-TW" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Class BLEAdvert &mdash; amebaDoc 0.0.1 說明文件</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/translations.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="索引" href="../../../../genindex.html" />
    <link rel="search" title="搜尋" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home"> amebaDoc
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">開源開發平台:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../arduino_index.html">Arduino 開發平台</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ambd_micropython/source/index.html">Micropython SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ambd_sdk/source/index.html">Standard SDK</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">amebaDoc</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Class BLEAdvert</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../_sources/ambd_arduino/source/ambd/api_documents/Class BLEAdvert.rst.txt" rel="nofollow"> 查看页面源码</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="class-bleadvert">
<h1>Class BLEAdvert<a class="headerlink" href="#class-bleadvert" title="本標題的永久連結">¶</a></h1>
<p><strong>BLEAdvert Class</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">A class used for managing BLE advertising settings.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">class BLEAdvert</div>
</div>
<p><strong>Members</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Public Constructors</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>No public constructor is available as this class is intended to be a
singleton class. You can get a pointer to this class using
BLEDevice::configAdvert().</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 46%" />
<col style="width: 54%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Public Methods</strong></p></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>BLEAdvert::updateAdvertParams</p></td>
<td><p>Update the current BLE
advertisement settings to the lower
Bluetooth stack</p></td>
</tr>
<tr class="row-odd"><td><p>BLEAdvert::startAdv</p></td>
<td><p>Start BLE advertising</p></td>
</tr>
<tr class="row-even"><td><p>BLEAdvert::stopAdv</p></td>
<td><p>Stop BLE advertising</p></td>
</tr>
<tr class="row-odd"><td><p>BLEAdvert::setAdvType</p></td>
<td><p>Set the BLE advertising type</p></td>
</tr>
<tr class="row-even"><td><p>BLEAdvert::setMinInterval</p></td>
<td><p>Set the BLE advertising minimum
interval</p></td>
</tr>
<tr class="row-odd"><td><p>BLEAdvert::setMaxInterval</p></td>
<td><p>Set the BLE advertising maximum
interval</p></td>
</tr>
<tr class="row-even"><td><p>BLEAdvert::setAdvData</p></td>
<td><p>Set BLE advertising data</p></td>
</tr>
<tr class="row-odd"><td><p>BLEAdvert::setScanRspData</p></td>
<td><p>Set BLE scan response data</p></td>
</tr>
</tbody>
</table>
<p><strong>BLEAdvert::updateAdvertParams</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Update the lower Bluetooth stack with the current advertising
settings.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">void updateAdvertParams(void);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">The function requires no input parameter.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">The function returns nothing.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">NA</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Please use the other class member functions to set the BLE advertising
parameters first before using this function.</div>
<div class="line"><br /></div>
</div>
<p><strong>BLEAdvert::startAdv</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Start BLE advertising.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">void startAdv(void);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">The function requires no input parameter.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">The function returns nothing.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">NA</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">This function is provided for flexibility in controlling and updating
BLE advertising parameters. You should avoid using this function to
directly start the BLE advertising process without first registering
the necessary callback and handler functions. Call
BLEDevice::beginPeripheral() to register the necessary functions and
start advertising for the first time.</div>
<div class="line"><br /></div>
</div>
<p><strong>BLEAdvert::stopAdv</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Stop BLE advertising.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">void stopAdv(void);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">The function requires no input parameter.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">The function returns nothing.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">NA</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">This function is provided for flexibility in controlling and updating
BLE advertising parameters. You should avoid using this function to
directly stop the BLE advertising process. Call BLEDevice::end() to
stop advertising and free up used resources.</div>
<div class="line"><br /></div>
</div>
<p><strong>BLEAdvert::setAdvType</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Set the BLE advertising type.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">void setAdvType(uint8_t advType);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">advType: the desired advertisement type. Valid values:</div>
<div class="line">– 0 = GAP_ADTYPE_ADV_IND : connectable undirected advertisement</div>
<div class="line">– 1 = GAP_ADTYPE_ADV_HDC_DIRECT_IND : connectable high duty cycle
directed</div>
<div class="line">– 2 = GAP_ADTYPE_ADV_SCAN_IND : scannable undirected advertisement</div>
<div class="line">– 3 = GAP_ADTYPE_ADV_NONCONN_IND : Non-connectable undirected
advertisement</div>
<div class="line">– 4 = GAP_ADTYPE_ADV_LDC_DIRECT_IND : connectable low duty cycle
directed advertisement</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">The function returns nothing.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">Example: BLEBatteryService</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">Call this function with the GAP_ADTYPE_ADV_IND argument if connection
requests should be allowed, and GAP_ADTYPE_ADV_NONCONN_IND if all
connection requests should be rejected.</div>
<div class="line"><br /></div>
</div>
<p><strong>BLEAdvert::setMinInterval</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Set the minimum BLE advertising interval.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">void setMinInterval(uint16_t minInt_ms);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">minInt_ms: the desired advertisement minimum interval, expressed in
milliseconds. The valid values for the interval are from 20ms to
10240ms.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">The function returns nothing.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">NA</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">BLE advertisements will repeat with an interval between the set
minimum and maximum intervals. Set a shorter interval for the BLE
device to be discovered rapidly and set a longer interval to conserve
power.</div>
<div class="line"><br /></div>
</div>
<p><strong>BLEAdvert::setMaxInterval</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Set the maximum BLE advertising interval.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">void setMaxInterval(uint16_t minInt_ms);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">minInt_ms: the desired advertisement maximum interval, expressed in
milliseconds. The valid values for the interval are from 20ms to
10240ms.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">The function returns nothing.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">NA</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">BLE advertisements will repeat with an interval between the set
minimum and maximum intervals. Set a shorter interval for the BLE
device to be discovered rapidly and set a longer interval to conserve
power.</div>
<div class="line"><br /></div>
</div>
<p><strong>BLEAdvert::setAdvData</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Set BLE advertising data.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">void setAdvData(BLEAdvertData adData);</div>
<div class="line">void setAdvData(uint8_t* pData, uint8_t size);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">adData: scan response data formatted in a BLEAdvertData class object</div>
<div class="line">pData: pointer to a byte array containing the required scan response
data.</div>
<div class="line">size: number of bytes the scan response data contains, maximum of 31
bytes.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">The function returns nothing.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">NA</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">N/A</div>
<div class="line"><br /></div>
</div>
<p><strong>BLEAdvert::setScanRspData</strong></p>
<div class="line-block">
<div class="line"><strong>Description</strong></div>
<div class="line">Set BLE scan response data.</div>
</div>
<div class="line-block">
<div class="line"><strong>Syntax</strong></div>
<div class="line">void setScanRspData(BLEAdvertData adData);</div>
<div class="line">void setScanRspData(uint8_t* pData, uint8_t size);</div>
</div>
<div class="line-block">
<div class="line"><strong>Parameters</strong></div>
<div class="line">adData: scan response data formatted in a BLEAdvertData class object</div>
<div class="line">pData: pointer to a byte array containing the required scan response
data.</div>
<div class="line">size: number of bytes the scan response data contains, maximum of 31
bytes.</div>
</div>
<div class="line-block">
<div class="line"><strong>Returns</strong></div>
<div class="line">The function returns nothing.</div>
</div>
<div class="line-block">
<div class="line"><strong>Example Code</strong></div>
<div class="line">NA</div>
</div>
<div class="line-block">
<div class="line"><strong>Notes and Warnings</strong></div>
<div class="line">N/A</div>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; 版權所有 2021, Ameba IoT。

    </p>
  </div>
    
    
    
    利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用了 
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    
    由 <a href="https://readthedocs.org">Read the Docs</a>开发. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>