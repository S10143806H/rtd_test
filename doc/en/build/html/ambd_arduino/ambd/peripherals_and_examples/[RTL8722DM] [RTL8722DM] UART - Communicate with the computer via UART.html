

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>[RTL8722DM] [RTL8722DM] UART - Communicate with the computer via UART &mdash; amebaDocs 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="[RTL8722CSM] [RTL8722DM] UART - Retrieve GPS Position" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20UART%20-%20Retrieve%20GPS%20Position.html" />
    <link rel="prev" title="[RTL8722CSM] [RTL8722DM] I2C - Display Data On LCD Screen" href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20I2C%20-%20Display%20Data%20On%20LCD%20Screen.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> amebaDocs
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Open Source SDKs:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../arduino_index.html">Arduino SDK</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html">AmebaD</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../ambd_mini/index.html">AmebaD-mini</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../ambd_mini/getting_started/RTL8722DM_mini_Arduino%20SDK_getting%20start.html">Getting Started with RTL8722DM_mini</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ambd_mini/download/index.html">Download</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../ambd_mini/peripherals_and_examples/index.html">Peripherals &amp; Examples</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../ambd_mini/peripherals_and_examples/RTL8722DM_MINI_Arduino_SDK_basic_example_table%2015Apr2021.html">Basic Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="Network%20Examples.html">Network Examples</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="Peripheral%20Examples.html">Peripheral Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="Components%20used.html">Components used</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../ambd_mini/board_hdk/index.html">Board HDK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ambd_mini/api_documents/index.html">API Documents</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ambd_mini/resources/index.html">Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ambd_mini/support/index.html">Support</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../ambd_micropython/source/index.html">Micropython SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ambd_sdk/source/index.html">Standard SDK</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">amebaDocs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../arduino_index.html">Arduino SDK</a> &raquo;</li>
        
          <li><a href="../index.html">AmebaD</a> &raquo;</li>
        
          <li><a href="index.html">Peripherals &amp; Examples</a> &raquo;</li>
        
          <li><a href="Peripheral%20Examples.html">Peripheral Examples</a> &raquo;</li>
        
      <li>[RTL8722DM] [RTL8722DM] UART - Communicate with the computer via UART</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/ambd_arduino/ambd/peripherals_and_examples/[RTL8722DM] [RTL8722DM] UART - Communicate with the computer via UART.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="rtl8722dm-rtl8722dm-uart-communicate-with-the-computer-via-uart">
<h1>[RTL8722DM] [RTL8722DM] UART - Communicate with the computer via UART<a class="headerlink" href="#rtl8722dm-rtl8722dm-uart-communicate-with-the-computer-via-uart" title="Permalink to this headline">¶</a></h1>
<p>Introduction of UART</p>
<ul class="simple">
<li><dl class="simple">
<dt>UART uses two wire, one for transmitting and the other one for</dt><dd><p>receiving, so the data transmission is bidirectional. The
communication uses a predefined frequency (baud rate) to transmit
data. In Arduino, UART is called “Serial”. There is only one
hardware UART on Arduino Uno and it is primarily used to read the
log and messages printed by Arduino (so it is also called “Log
UART”). If we use the hardware UART for other purposes, the Log
UART does not have resources to function. To provide more UART
connections, it is possible to use a GPIO pin to simulate the
behavior of UART with a software approach, this is called Software
Serial. Ameba is equipped with several hardware UART ports, but it
is also compatible with the Software Serial library.</p>
</dd>
</dl>
</li>
</ul>
<p>Materials</p>
<ul class="simple">
<li><p>Ameba x 1</p></li>
<li><p>USB to TTL Adapter x 1</p></li>
</ul>
<p>Example</p>
<div class="line-block">
<div class="line">In this example, we use UART to connect USB to TTL adapter to Ameba.</div>
<div class="line">USB to TTL adapter sends data to Ameba, the data would be returned by
Ameba, and showed on the screen.</div>
</div>
<ul class="simple">
<li><p><strong>Install USB to TTL Adapter</strong></p></li>
</ul>
<div class="line-block">
<div class="line">USB to TTL adapter converts USB to serial interface. Normally, there
are at least 4 pins on the adapter, that is 3V3 (or 5V), GND, TX and
RX. Generally, installing the driver for the USB to TTL adapter would
be required before using it. If the adapter uses the chip of FTDI,
Windows will search and install the driver automatically, otherwise,
you may need to install corresponding driver yourself.</div>
<div class="line">Afterwards, open device manager. You can find corresponding serial
port number of the USB to TTL adapter:</div>
</div>
<a class="reference internal image-reference" href="../../../_images/image188.png"><img alt="5-1" src="../../../_images/image188.png" style="width: 4.75in; height: 3.85417in;" /></a>
<ul class="simple">
<li><p>Executing the Example</p></li>
</ul>
<p>Open the “SoftwareSerialExample” example in “File” -&gt; “Examples” -&gt;
“AmebaSoftwareSerial” -&gt; “SoftwareSerial_Basic”:</p>
<a class="reference internal image-reference" href="../../../_images/image267.png"><img alt="5-2" src="../../../_images/image267.png" style="width: 6.13194in; height: 7.97917in;" /></a>
<div class="line-block">
<div class="line">Connect the wire as the following diagrams show. The TX pin of USB to
TTL adapter is connected to the RX of Ameba, and the RX pin of USB to
TTL adapter is connected to the TX of Ameba.</div>
<div class="line">RTL8722 wiring diagram:</div>
</div>
<a class="reference internal image-reference" href="../../../_images/image347.png"><img alt="5-2" src="../../../_images/image347.png" style="width: 6.5in; height: 7.03264in;" /></a>
<p>Next, open a serial port terminal, such as Putty or Tera Term. (Putty is
used in this example). Open the Putty window, choose “Serial” in
connection type, and specify the port number of the USB to TTL adapter
(e.g. COM8). In the speed field, fill in the baud rate of this
connection. Note that both sides of the connection should use the same
baud rate. In this example we set baud rate 4800.</p>
<a class="reference internal image-reference" href="../../../_images/image440.png"><img alt="5-4" src="../../../_images/image440.png" style="width: 4.85417in; height: 4.66667in;" /></a>
<p>Next, select “Serial” on the left side. Set data bits to 8, stop bits to
1, parity to none, and flow control to none.</p>
<a class="reference internal image-reference" href="../../../_images/image524.png"><img alt="5-5" src="../../../_images/image524.png" style="width: 4.85417in; height: 4.66667in;" /></a>
<p>Then click Open and press the reset button on Ameba. You can see the
“Hello, world?” message appears in Putty. If characters are typed into
Putty, the input characters would be sent to Serial RX of Ameba by TX of
USB to TTL Adapter, and returned by Serial TX of Ameba. Finally, RX of
USB to TTL Adapter receives the returned characters and prints them in
Putty. Therefore, if you insert “I am fine”, you will get something like
this:</p>
<a class="reference internal image-reference" href="../../../_images/image612.png"><img alt="5-6" src="../../../_images/image612.png" style="width: 4.11806in; height: 2.58333in;" /></a>
<p>Code Reference</p>
<div class="line-block">
<div class="line">First, use SoftwareSerial: begin(speed) to set the baud rate for the
serial communication:</div>
<div class="line"><a class="reference external" href="https://www.arduino.cc/en/Reference/SoftwareSerialBegin">https://www.arduino.cc/en/Reference/SoftwareSerialBegin</a></div>
</div>
<p>Use write() to send data, and use SoftwareSerial:available() to get the
number of bytes available for reading from a software serial port:</p>
<div class="line-block">
<div class="line"><a class="reference external" href="https://www.arduino.cc/en/Reference/SoftwareSerialAvailable">https://www.arduino.cc/en/Reference/SoftwareSerialAvailable</a></div>
<div class="line">If there are data available to read, use read() to read from serial
port.</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20UART%20-%20Retrieve%20GPS%20Position.html" class="btn btn-neutral float-right" title="[RTL8722CSM] [RTL8722DM] UART - Retrieve GPS Position" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="%5BRTL8722CSM%5D%20%5BRTL8722DM%5D%20I2C%20-%20Display%20Data%20On%20LCD%20Screen.html" class="btn btn-neutral float-left" title="[RTL8722CSM] [RTL8722DM] I2C - Display Data On LCD Screen" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Ameba IoT.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>